
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>服务发布及注册 · 面试知识点汇总</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="服务消费源码.html" />
    
    
    <link rel="prev" href="SPI.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Java基础
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../JavaBasic/基本类型和包装类型.html">
            
                <a href="../JavaBasic/基本类型和包装类型.html">
            
                    
                    基本类型和包装类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../JavaBasic/多态.html">
            
                <a href="../JavaBasic/多态.html">
            
                    
                    多态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../JavaBasic/泛型.html">
            
                <a href="../JavaBasic/泛型.html">
            
                    
                    泛型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../JavaBasic/反射.html">
            
                <a href="../JavaBasic/反射.html">
            
                    
                    反射
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../JavaBasic/集合.html">
            
                <a href="../JavaBasic/集合.html">
            
                    
                    集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../JavaBasic/ConcurrentHashMap.html">
            
                <a href="../JavaBasic/ConcurrentHashMap.html">
            
                    
                    ConcurrentHashMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../JavaBasic/HashMap.html">
            
                <a href="../JavaBasic/HashMap.html">
            
                    
                    HashMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../JavaBasic/hashcode和equals.html">
            
                <a href="../JavaBasic/hashcode和equals.html">
            
                    
                    hashcode和equals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../JavaBasic/Linux">
            
                <span>
            
                    
                    Linux
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Java并发编程
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../JavaConcurrency/JMM.html">
            
                <a href="../JavaConcurrency/JMM.html">
            
                    
                    内存模型JMM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../JavaConcurrency/volatile.html">
            
                <a href="../JavaConcurrency/volatile.html">
            
                    
                    Volatile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../JavaConcurrency/synchronized.html">
            
                <a href="../JavaConcurrency/synchronized.html">
            
                    
                    Synchronized
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../JavaConcurrency/ReentrantLock.html">
            
                <a href="../JavaConcurrency/ReentrantLock.html">
            
                    
                    Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../JavaConcurrency/Condition.html">
            
                <a href="../JavaConcurrency/Condition.html">
            
                    
                    并发工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../JavaConcurrency/threadpool.html">
            
                <a href="../JavaConcurrency/threadpool.html">
            
                    
                    线程池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="../JavaConcurrency/ThreadLocal.html">
            
                <a href="../JavaConcurrency/ThreadLocal.html">
            
                    
                    ThreadLocal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="../JavaConcurrency/阻塞队列和原子操作.html">
            
                <a href="../JavaConcurrency/阻塞队列和原子操作.html">
            
                    
                    原子操作和阻塞队列
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    虚拟机
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../JVM/内存区域.html">
            
                <a href="../JVM/内存区域.html">
            
                    
                    内存区域
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../JVM/内存分配和垃圾回收.html">
            
                <a href="../JVM/内存分配和垃圾回收.html">
            
                    
                    内存分配和垃圾回收
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../JVM/类加载.html">
            
                <a href="../JVM/类加载.html">
            
                    
                    类加载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../JVM/JVM调优.html">
            
                <a href="../JVM/JVM调优.html">
            
                    
                    JVM调优
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Mysql
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Mysql/架构.html">
            
                <a href="../Mysql/架构.html">
            
                    
                    架构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Mysql/索引.html">
            
                <a href="../Mysql/索引.html">
            
                    
                    索引
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Mysql/执行计划.html">
            
                <a href="../Mysql/执行计划.html">
            
                    
                    执行计划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../Mysql/锁和MVCC.html">
            
                <a href="../Mysql/锁和MVCC.html">
            
                    
                    锁和MVCC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../Mysql/优化.html">
            
                <a href="../Mysql/优化.html">
            
                    
                    Mysql优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../Mysql/分库分表.html">
            
                <a href="../Mysql/分库分表.html">
            
                    
                    分库分表
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Redis
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../Redis/数据结构.html">
            
                <a href="../Redis/数据结构.html">
            
                    
                    数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../Redis/基本功能.html">
            
                <a href="../Redis/基本功能.html">
            
                    
                    基本功能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../Redis/集群.html">
            
                <a href="../Redis/集群.html">
            
                    
                    集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../Redis/应用.html">
            
                <a href="../Redis/应用.html">
            
                    
                    应用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Dubbo
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="基本概念及使用.html">
            
                <a href="基本概念及使用.html">
            
                    
                    基本概念及使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="SPI.html">
            
                <a href="SPI.html">
            
                    
                    Dubbo SPI
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7.3" data-path="服务发布和注册源码.html">
            
                <a href="服务发布和注册源码.html">
            
                    
                    服务发布及注册
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="服务消费源码.html">
            
                <a href="服务消费源码.html">
            
                    
                    服务消费
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Zookeeper
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../Zookeeper/节点.html">
            
                <a href="../Zookeeper/节点.html">
            
                    
                    节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../Zookeeper/集群.html">
            
                <a href="../Zookeeper/集群.html">
            
                    
                    集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../Zookeeper/启动与选举源码.html">
            
                <a href="../Zookeeper/启动与选举源码.html">
            
                    
                    启动及选举
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../Zookeeper/Watcher.html">
            
                <a href="../Zookeeper/Watcher.html">
            
                    
                    监听Watch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../Zookeeper/应用场景.html">
            
                <a href="../Zookeeper/应用场景.html">
            
                    
                    应用场景
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    Kafka
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../Kafka/基本使用.html">
            
                <a href="../Kafka/基本使用.html">
            
                    
                    基本使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../Kafka/集群.html">
            
                <a href="../Kafka/集群.html">
            
                    
                    集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../Kafka/MQ设计.html">
            
                <a href="../Kafka/MQ设计.html">
            
                    
                    MQ设计
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Netty
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../Netty/Netty.html">
            
                <a href="../Netty/Netty.html">
            
                    
                    Netty
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    ES
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../ES/基本概念.html">
            
                <a href="../ES/基本概念.html">
            
                    
                    基本概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../ES/集群.html">
            
                <a href="../ES/集群.html">
            
                    
                    集群
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Spring
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../Spring/IOC.html">
            
                <a href="../Spring/IOC.html">
            
                    
                    IOC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../Spring/DI.html">
            
                <a href="../Spring/DI.html">
            
                    
                    DI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../Spring/AOP.html">
            
                <a href="../Spring/AOP.html">
            
                    
                    AOP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../Spring/事务.html">
            
                <a href="../Spring/事务.html">
            
                    
                    事务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../Spring/MVC.html">
            
                <a href="../Spring/MVC.html">
            
                    
                    MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../Spring/spring.html">
            
                <a href="../Spring/spring.html">
            
                    
                    Spring
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    SpringCloud
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../SpringCloud/Eureka.html">
            
                <a href="../SpringCloud/Eureka.html">
            
                    
                    Eureka
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../SpringCloud/Ribbon.html">
            
                <a href="../SpringCloud/Ribbon.html">
            
                    
                    Ribbon
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../SpringCloud/Feign.html">
            
                <a href="../SpringCloud/Feign.html">
            
                    
                    Feign
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="../SpringCloud/Hystrix.html">
            
                <a href="../SpringCloud/Hystrix.html">
            
                    
                    Hystrix
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    设计模式
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../DesignPatterns/设计模式.html">
            
                <a href="../DesignPatterns/设计模式.html">
            
                    
                    设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../DesignPatterns/代理模式.html">
            
                <a href="../DesignPatterns/代理模式.html">
            
                    
                    代理模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../DesignPatterns/单例模式.html">
            
                <a href="../DesignPatterns/单例模式.html">
            
                    
                    单例模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="../DesignPatterns/原型模式.html">
            
                <a href="../DesignPatterns/原型模式.html">
            
                    
                    原型模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="../DesignPatterns/工厂模式.html">
            
                <a href="../DesignPatterns/工厂模式.html">
            
                    
                    工厂模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="../DesignPatterns/其他设计模式.html">
            
                <a href="../DesignPatterns/其他设计模式.html">
            
                    
                    其他设计模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    分布式
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../Distribution/分布式事务.html">
            
                <a href="../Distribution/分布式事务.html">
            
                    
                    分布式事务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="../Distribution/分布式ID.html">
            
                <a href="../Distribution/分布式ID.html">
            
                    
                    分布式ID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="../Distribution/Session一致性.html">
            
                <a href="../Distribution/Session一致性.html">
            
                    
                    Session一致性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="../Distribution/一致性hash.html">
            
                <a href="../Distribution/一致性hash.html">
            
                    
                    一致性hash
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.5" data-path="../Distribution/序列化.html">
            
                <a href="../Distribution/序列化.html">
            
                    
                    序列化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.6" data-path="../Distribution/Http和Https.html">
            
                <a href="../Distribution/Http和Https.html">
            
                    
                    HTTP和HTTPS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.7" data-path="../Distribution/TCP.html">
            
                <a href="../Distribution/TCP.html">
            
                    
                    TCP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" >
            
                <span>
            
                    
                    系统设计
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../SystemDesign/设计一个高并发系统.html">
            
                <a href="../SystemDesign/设计一个高并发系统.html">
            
                    
                    设计一个高并发系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="../SystemDesign/高可用.html">
            
                <a href="../SystemDesign/高可用.html">
            
                    
                    高可用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="../SystemDesign/1小时内访问频率最高的10个ip.html">
            
                <a href="../SystemDesign/1小时内访问频率最高的10个ip.html">
            
                    
                    1小时内访问频率最高的10个ip
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="../SystemDesign/抽奖系统.html">
            
                <a href="../SystemDesign/抽奖系统.html">
            
                    
                    抽奖系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="../SystemDesign/积分系统.html">
            
                <a href="../SystemDesign/积分系统.html">
            
                    
                    积分系统
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" >
            
                <span>
            
                    
                    算法
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" >
            
                <span>
            
                    
                    二叉树
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1.1" data-path="../Algorithm/二叉树后序遍历.html">
            
                <a href="../Algorithm/二叉树后序遍历.html">
            
                    
                    二叉树前序遍历
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.2" data-path="../Algorithm/二叉树后序遍历.html">
            
                <a href="../Algorithm/二叉树后序遍历.html">
            
                    
                    二叉树中序遍历
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.3" data-path="../Algorithm/二叉树后序遍历.html">
            
                <a href="../Algorithm/二叉树后序遍历.html">
            
                    
                    二叉树后序遍历
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.4" data-path="../Algorithm/二叉树的层序遍历.html">
            
                <a href="../Algorithm/二叉树的层序遍历.html">
            
                    
                    二叉树的层序遍历
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.5" data-path="../Algorithm/二叉树的层序遍历倒序.html">
            
                <a href="../Algorithm/二叉树的层序遍历倒序.html">
            
                    
                    二叉树的层序遍历倒序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.6" data-path="../Algorithm/之字型打印二叉树.html">
            
                <a href="../Algorithm/之字型打印二叉树.html">
            
                    
                    之字型打印二叉树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.7" data-path="../Algorithm/二叉树的镜像.html">
            
                <a href="../Algorithm/二叉树的镜像.html">
            
                    
                    二叉树的镜像
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.8" data-path="../Algorithm/二叉树的最大路径和.html">
            
                <a href="../Algorithm/二叉树的最大路径和.html">
            
                    
                    二叉树的最大路径和
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.9" data-path="../Algorithm/二叉树的最大深度.html">
            
                <a href="../Algorithm/二叉树的最大深度.html">
            
                    
                    二叉树的最大深度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.10" data-path="../Algorithm/二叉树的最小深度.html">
            
                <a href="../Algorithm/二叉树的最小深度.html">
            
                    
                    二叉树的最小深度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.11" data-path="../Algorithm/二叉树的最近公共祖先.html">
            
                <a href="../Algorithm/二叉树的最近公共祖先.html">
            
                    
                    二叉树的最近公共祖先
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.12" data-path="../Algorithm/二叉树两个节点最短路径.html">
            
                <a href="../Algorithm/二叉树两个节点最短路径.html">
            
                    
                    二叉树两个节点最短路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.13" data-path="../Algorithm/二叉树存在给定值路径.html">
            
                <a href="../Algorithm/二叉树存在给定值路径.html">
            
                    
                    二叉树存在给定值路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.14" data-path="../Algorithm/二叉树给定值路径.html">
            
                <a href="../Algorithm/二叉树给定值路径.html">
            
                    
                    二叉树给定值路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.15" data-path="../Algorithm/二叉树给定值所有路径.html">
            
                <a href="../Algorithm/二叉树给定值所有路径.html">
            
                    
                    二叉树给定值所有路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.16" data-path="../Algorithm/对称二叉树.html">
            
                <a href="../Algorithm/对称二叉树.html">
            
                    
                    对称二叉树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.17" data-path="../Algorithm/翻转二叉树.html">
            
                <a href="../Algorithm/翻转二叉树.html">
            
                    
                    翻转二叉树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.18" data-path="../Algorithm/是否平衡二叉树.html">
            
                <a href="../Algorithm/是否平衡二叉树.html">
            
                    
                    是否平衡二叉树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.19" data-path="../Algorithm/二叉树的所有路径.html">
            
                <a href="../Algorithm/二叉树的所有路径.html">
            
                    
                    二叉树的所有路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.20" data-path="../Algorithm/二叉树中和为某一值的路径.html">
            
                <a href="../Algorithm/二叉树中和为某一值的路径.html">
            
                    
                    二叉树中和为某一值的路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.21" data-path="../Algorithm/树的子结构.html">
            
                <a href="../Algorithm/树的子结构.html">
            
                    
                    树的子结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.22" data-path="../Algorithm/判断二叉树对称.html">
            
                <a href="../Algorithm/判断二叉树对称.html">
            
                    
                    判断二叉树对称
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.23" data-path="../Algorithm/二叉树展开为列表.html">
            
                <a href="../Algorithm/二叉树展开为列表.html">
            
                    
                    二叉树展开为列表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.24" data-path="../Algorithm/二叉搜索树第k大节点.html">
            
                <a href="../Algorithm/二叉搜索树第k大节点.html">
            
                    
                    二叉搜索树第k大节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.25" data-path="../Algorithm/二叉树展开为列表.html">
            
                <a href="../Algorithm/二叉树展开为列表.html">
            
                    
                    二叉树展开为列表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.26" data-path="../Algorithm/前序与中序构造二叉树.html">
            
                <a href="../Algorithm/前序与中序构造二叉树.html">
            
                    
                    前序与中序构造二叉树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.27" data-path="../Algorithm/填充每个节点的下一个右侧节点.html">
            
                <a href="../Algorithm/填充每个节点的下一个右侧节点.html">
            
                    
                    填充每个节点的下一个右侧节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.28" data-path="../Algorithm/最大二叉树.html">
            
                <a href="../Algorithm/最大二叉树.html">
            
                    
                    最大二叉树
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.1.29" data-path="../Algorithm/左叶子之和.html">
            
                <a href="../Algorithm/左叶子之和.html">
            
                    
                    左叶子之和
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.2" >
            
                <span>
            
                    
                    数组
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.2.1" data-path="../Algorithm/最大子序和.html">
            
                <a href="../Algorithm/最大子序和.html">
            
                    
                    最大子序和
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.2" data-path="../Algorithm/和为S长度最小子数组.html">
            
                <a href="../Algorithm/和为S长度最小子数组.html">
            
                    
                    和为S长度最小子数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.3" data-path="../Algorithm/数组中的第K个最大元素.html">
            
                <a href="../Algorithm/数组中的第K个最大元素.html">
            
                    
                    数组中的第K个最大元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.4" data-path="../Algorithm/搜索插入位置.html">
            
                <a href="../Algorithm/搜索插入位置.html">
            
                    
                    搜索插入位置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.5" data-path="../Algorithm/寻找数组的中心位置.html">
            
                <a href="../Algorithm/寻找数组的中心位置.html">
            
                    
                    寻找数组的中心位置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.6" data-path="../Algorithm/颜色分类-分类排序.html">
            
                <a href="../Algorithm/颜色分类-分类排序.html">
            
                    
                    颜色分类-分类排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.7" data-path="../Algorithm/有序数组两数之和.html">
            
                <a href="../Algorithm/有序数组两数之和.html">
            
                    
                    有序数组两数之和
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.8" data-path="../Algorithm/二分查找.html">
            
                <a href="../Algorithm/二分查找.html">
            
                    
                    二分查找
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.9" data-path="../Algorithm/合并两个有序数组.html">
            
                <a href="../Algorithm/合并两个有序数组.html">
            
                    
                    合并两个有序数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.10" data-path="../Algorithm/数组拆分返回最大子和.html">
            
                <a href="../Algorithm/数组拆分返回最大子和.html">
            
                    
                    数组拆分返回最大子和
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.11" data-path="../Algorithm/移除指定元素.html">
            
                <a href="../Algorithm/移除指定元素.html">
            
                    
                    移除指定元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.12" data-path="../Algorithm/最大连续1个数.html">
            
                <a href="../Algorithm/最大连续1个数.html">
            
                    
                    最大连续1个数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.13" data-path="../Algorithm/移动0.html">
            
                <a href="../Algorithm/移动0.html">
            
                    
                    移动0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.14" data-path="../Algorithm/合并区间.html">
            
                <a href="../Algorithm/合并区间.html">
            
                    
                    合并区间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.15" data-path="../Algorithm/插入区间.html">
            
                <a href="../Algorithm/插入区间.html">
            
                    
                    插入区间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.16" data-path="../Algorithm/汇总区间.html">
            
                <a href="../Algorithm/汇总区间.html">
            
                    
                    汇总区间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.17" data-path="../Algorithm/删除区间.html">
            
                <a href="../Algorithm/删除区间.html">
            
                    
                    删除区间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.18" data-path="../Algorithm/删除数组中的重复项-保留一个.html">
            
                <a href="../Algorithm/删除数组中的重复项-保留一个.html">
            
                    
                    删除数组中的重复项-保留一个
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.19" data-path="../Algorithm/删除数组中的重复项-保留两个.html">
            
                <a href="../Algorithm/删除数组中的重复项-保留两个.html">
            
                    
                    删除数组中的重复项-保留两个
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.20" data-path="../Algorithm/盛最多水的容器.html">
            
                <a href="../Algorithm/盛最多水的容器.html">
            
                    
                    盛最多水的容器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.21" data-path="../Algorithm/两数组中最长重复子数组.html">
            
                <a href="../Algorithm/两数组中最长重复子数组.html">
            
                    
                    两数组中最长重复子数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.22" data-path="../Algorithm/二维数组查找包含元素.html">
            
                <a href="../Algorithm/二维数组查找包含元素.html">
            
                    
                    二维数组查找包含元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.23" data-path="../Algorithm/数组中重复数字.html">
            
                <a href="../Algorithm/数组中重复数字.html">
            
                    
                    数组中重复数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.24" data-path="../Algorithm/调整数组顺序使奇数位于偶数前面.html">
            
                <a href="../Algorithm/调整数组顺序使奇数位于偶数前面.html">
            
                    
                    调整数组顺序使奇数位于偶数前面
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.25" data-path="../Algorithm/最小K个数.html">
            
                <a href="../Algorithm/最小K个数.html">
            
                    
                    最小K个数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.26" data-path="../Algorithm/二维数组查找包含元素.html">
            
                <a href="../Algorithm/二维数组查找包含元素.html">
            
                    
                    二维数组查找包含元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.27" data-path="../Algorithm/和为s的连续正数序列.html">
            
                <a href="../Algorithm/和为s的连续正数序列.html">
            
                    
                    和为s的连续正数序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.28" data-path="../Algorithm/矩阵中是否包含字符串路径.html">
            
                <a href="../Algorithm/矩阵中是否包含字符串路径.html">
            
                    
                    矩阵中是否包含字符串路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.29" data-path="../Algorithm/数组三数之和.html">
            
                <a href="../Algorithm/数组三数之和.html">
            
                    
                    数组三数之和
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.30" data-path="../Algorithm/数组中出现次数超过一半的数字.html">
            
                <a href="../Algorithm/数组中出现次数超过一半的数字.html">
            
                    
                    数组中出现次数超过一半的数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.31" data-path="../Algorithm/数组中的第K个最大元素.html">
            
                <a href="../Algorithm/数组中的第K个最大元素.html">
            
                    
                    数组中的第K个最大元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.32" data-path="../Algorithm/数组中只出现一次的数字.html">
            
                <a href="../Algorithm/数组中只出现一次的数字.html">
            
                    
                    数组中只出现一次的数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.33" data-path="../Algorithm/数组中两个出现一次的数字.html">
            
                <a href="../Algorithm/数组中两个出现一次的数字.html">
            
                    
                    数组中两个出现一次的数字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.34" data-path="../Algorithm/数组中元素第一和最后位置.html">
            
                <a href="../Algorithm/数组中元素第一和最后位置.html">
            
                    
                    数组中元素第一和最后位置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.35" data-path="../Algorithm/统计数字在数组中出现次数.html">
            
                <a href="../Algorithm/统计数字在数组中出现次数.html">
            
                    
                    统计数字在数组中出现次数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.36" data-path="../Algorithm/无重复数字的全排列.html">
            
                <a href="../Algorithm/无重复数字的全排列.html">
            
                    
                    无重复数字的全排列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2.37" data-path="../Algorithm/重复数字的全排列.html">
            
                <a href="../Algorithm/重复数字的全排列.html">
            
                    
                    重复数字的全排列
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.3" >
            
                <span>
            
                    
                    字符串
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.3.1" data-path="../Algorithm/左旋转字符串.html">
            
                <a href="../Algorithm/左旋转字符串.html">
            
                    
                    左旋转字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.2" data-path="../Algorithm/最长公共前缀.html">
            
                <a href="../Algorithm/最长公共前缀.html">
            
                    
                    最长公共前缀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.3" data-path="../Algorithm/最长不含重复字符的子串.html">
            
                <a href="../Algorithm/最长不含重复字符的子串.html">
            
                    
                    最长不含重复字符的子串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.4" data-path="../Algorithm/最小覆盖字串.html">
            
                <a href="../Algorithm/最小覆盖字串.html">
            
                    
                    最小覆盖字串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.5" data-path="../Algorithm/验证回文串.html">
            
                <a href="../Algorithm/验证回文串.html">
            
                    
                    验证回文串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.6" data-path="../Algorithm/第一个只出现一次的字符.html">
            
                <a href="../Algorithm/第一个只出现一次的字符.html">
            
                    
                    第一个只出现一次的字符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.7" data-path="../Algorithm/反转字符串.html">
            
                <a href="../Algorithm/反转字符串.html">
            
                    
                    反转字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.8" data-path="../Algorithm/回文子串个数.html">
            
                <a href="../Algorithm/回文子串个数.html">
            
                    
                    回文子串个数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.9" data-path="../Algorithm/判断子序列.html">
            
                <a href="../Algorithm/判断子序列.html">
            
                    
                    判断子序列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.10" data-path="../Algorithm/字符串排列.html">
            
                <a href="../Algorithm/字符串排列.html">
            
                    
                    字符串排列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3.11" data-path="../Algorithm/最长回文子串.html">
            
                <a href="../Algorithm/最长回文子串.html">
            
                    
                    最长回文子串
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.4" >
            
                <span>
            
                    
                    链表
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.4.1" data-path="../Algorithm/翻转链表.html">
            
                <a href="../Algorithm/翻转链表.html">
            
                    
                    翻转链表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.2" data-path="../Algorithm/给定值分隔列表.html">
            
                <a href="../Algorithm/给定值分隔列表.html">
            
                    
                    给定值分隔列表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.3" data-path="../Algorithm/环形链表.html">
            
                <a href="../Algorithm/环形链表.html">
            
                    
                    环形链表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.4" data-path="../Algorithm/环形链表II.html">
            
                <a href="../Algorithm/环形链表II.html">
            
                    
                    环形链表II
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.5" data-path="../Algorithm/删除链表中重复元素.html">
            
                <a href="../Algorithm/删除链表中重复元素.html">
            
                    
                    删除链表中重复元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.6" data-path="../Algorithm/删除链表中重复元素不保留.html">
            
                <a href="../Algorithm/删除链表中重复元素不保留.html">
            
                    
                    删除链表中重复元素不保留
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.7" data-path="../Algorithm/合并两个有序列表.html">
            
                <a href="../Algorithm/合并两个有序列表.html">
            
                    
                    合并两个有序列表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.8" data-path="../Algorithm/删除链表给定值节点.html">
            
                <a href="../Algorithm/删除链表给定值节点.html">
            
                    
                    删除链表给定值节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.9" data-path="../Algorithm/链表中倒数第K个节点.html">
            
                <a href="../Algorithm/链表中倒数第K个节点.html">
            
                    
                    链表中倒数第K个节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.10" data-path="../Algorithm/从尾到头打印列表.html">
            
                <a href="../Algorithm/从尾到头打印列表.html">
            
                    
                    从尾到头打印列表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.11" data-path="../Algorithm/反转m到n的链表.html">
            
                <a href="../Algorithm/反转m到n的链表.html">
            
                    
                    反转m到n的链表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.12" data-path="../Algorithm/回文列表.html">
            
                <a href="../Algorithm/回文列表.html">
            
                    
                    回文列表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.13" data-path="../Algorithm/链表中间节点.html">
            
                <a href="../Algorithm/链表中间节点.html">
            
                    
                    链表中间节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.14" data-path="../Algorithm/删除链表的倒数第N个节点.html">
            
                <a href="../Algorithm/删除链表的倒数第N个节点.html">
            
                    
                    删除链表的倒数第N个节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.15" data-path="../Algorithm/删除链表给定值节点.html">
            
                <a href="../Algorithm/删除链表给定值节点.html">
            
                    
                    删除链表给定值节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.16" data-path="../Algorithm/删除链表中重复元素.html">
            
                <a href="../Algorithm/删除链表中重复元素.html">
            
                    
                    删除链表中重复元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4.17" data-path="../Algorithm/删除链表中重复元素不保留.html">
            
                <a href="../Algorithm/删除链表中重复元素不保留.html">
            
                    
                    删除链表中重复元素不保留
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.5" >
            
                <span>
            
                    
                    动态规划
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.5.1" data-path="../Algorithm/整数拆分乘积最大.html">
            
                <a href="../Algorithm/整数拆分乘积最大.html">
            
                    
                    整数拆分乘积最大
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5.2" data-path="../Algorithm/礼物的最大价值.html">
            
                <a href="../Algorithm/礼物的最大价值.html">
            
                    
                    礼物的最大价值
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5.3" data-path="../Algorithm/斐波那契数.html">
            
                <a href="../Algorithm/斐波那契数.html">
            
                    
                    斐波那契数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5.4" data-path="../Algorithm/股票最大利润.html">
            
                <a href="../Algorithm/股票最大利润.html">
            
                    
                    股票最大利润
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5.5" data-path="../Algorithm/零钱兑换.html">
            
                <a href="../Algorithm/零钱兑换.html">
            
                    
                    零钱兑换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5.6" data-path="../Algorithm/礼物的最大价值.html">
            
                <a href="../Algorithm/礼物的最大价值.html">
            
                    
                    把数字翻译成字符串
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17.6" >
            
                <span>
            
                    
                    其他
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.6.1" data-path="../Algorithm/两个栈实现队列.html">
            
                <a href="../Algorithm/两个栈实现队列.html">
            
                    
                    两个栈实现队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.6.2" data-path="../Algorithm/数值的整数次方.html">
            
                <a href="../Algorithm/数值的整数次方.html">
            
                    
                    数值的整数次方
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.6.3" data-path="../Algorithm/数值的整数次方.html">
            
                <a href="../Algorithm/数值的整数次方.html">
            
                    
                    扑克牌中顺子
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.6.4" data-path="../Algorithm/有效的括号.html">
            
                <a href="../Algorithm/有效的括号.html">
            
                    
                    有效的括号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.6.5" data-path="../Algorithm/栈的压入弹出序列.html">
            
                <a href="../Algorithm/栈的压入弹出序列.html">
            
                    
                    栈的压入弹出序列
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" >
            
                <span>
            
                    
                    Test
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" >
            
                <span>
            
                    
                    test1
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1.1" >
            
                <span>
            
                    
                    test2
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1.1.1" data-path="../MiddleWare/redis.md">
            
                <span>
            
                    
                    test3
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >服务发布及注册</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x8FC7;&#x7A0B;">&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x8FC7;&#x7A0B;</h1>
<ol>
<li>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x89E3;&#x6790;&#x6216;&#x8005;&#x6CE8;&#x89E3;&#x89E3;&#x6790;</li>
<li>&#x670D;&#x52A1;&#x66B4;&#x9732;</li>
<li>&#x670D;&#x52A1;&#x6CE8;&#x518C;</li>
<li>&#x542F;&#x52A8; netty &#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x8FDC;&#x7A0B;&#x76D1;&#x542C;</li>
</ol>
<h1 id="&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6587;&#x4EF6;">&#x89E3;&#x6790;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</h1>
<p>Spring&#x901A;&#x8FC7;&#x4E24;&#x4E2A;&#x63A5;&#x53E3;&#x6765;&#x89E3;&#x6790;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6807;&#x7B7E;&#x3002;NamespaceHandler&#xFF0C;&#x6CE8;&#x518C;&#x4E00;&#x5806; BeanDefinitionParser&#x3002;BeanDefinitionParser&#xFF0C;&#x7528;&#x4E8E;&#x89E3;&#x6790;&#x6BCF;&#x4E2A; element &#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p>spring&#x6846;&#x67B6;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x4F1A;&#x626B;&#x63CF;&#x6240;&#x6709;classpath&#x7684;spring.handlers&#x6587;&#x4EF6;&#xFF0C;&#x52A0;&#x8F7D;NamespaceHandler&#x5230;Map&#x4E2D;&#x3002;Spring&#x5728;&#x89E3;&#x6790;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x6807;&#x7B7E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x5728;&#x8FD9;&#x4E2A;Map&#x4E2D;&#x67E5;&#x627E;&#x5BF9;&#x5E94;NamespaceHandler&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>dubbo&#x5B9A;&#x4E49;&#x4E86;DubboNamespaceHandler &#xFF0C;&#x7EE7;&#x627F;&#x4E86;NamespaceHandlerSupport&#x3002;&#x4E0D;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x6240;&#x6709;&#x7684;&#x89E3;&#x6790;&#x5DE5;&#x4F5C;&#xFF0C;&#x53EA;&#x8981;&#x5C06;&#x81EA;&#x5B9A;&#x4E49;schema&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x89E3;&#x6790;&#x5668;&#x6CE8;&#x518C;&#x8FDB;&#x6765;&#x5C31;&#x53EF;&#x4EE5;&#x3002;</p>
<p>DubboBeanDefinitionParser&#x7C7B;&#x53BB;&#x89E3;&#x6790;&#x6807;&#x7B7E;&#xFF0C;&#x6BCF;&#x4E2A;&#x6807;&#x7B7E;&#x4F1A;&#x89E3;&#x6790;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x4E0A;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B9E;&#x4F53;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x5BF9;&#x5E94;&#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5C5E;&#x6027;&#x3002;</p>
<p>&#x6D89;&#x53CA;&#x5230;&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x548C;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x7684;&#x4E24;&#x4E2A;&#x914D;&#x7F6E;&#x7684;&#x89E3;&#x6790;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x662F; ServiceBean &#x548C; referenceBean</p>
<h2 id="servicebean&#x89E3;&#x6790;">ServiceBean&#x89E3;&#x6790;</h2>
<p>&#x5728; ServiceBean &#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x6682;&#x4E14;&#x53EA;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5206;&#x522B;&#x662F;</p>
<ol>
<li>&#x5728;&#x521D;&#x59CB;&#x5316; bean &#x7684;&#x65F6;&#x5019;&#x4F1A;&#x6267;&#x884C;&#x8BE5;&#x65B9;&#x6CD5; afterPropertiesSet,</li>
<li>spring &#x5BB9;&#x5668;&#x542F;&#x52A8;&#x540E;&#x4F1A;&#x53D1;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x901A;&#x77E5; onApplicationEvent</li>
</ol>
<h3 id="afterpropertiesset">afterPropertiesSet</h3>
<p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x91CC;&#x9762;&#xFF0C;&#x5C31;&#x662F;&#x628A; dubbo &#x4E2D;&#x914D;&#x7F6E;&#x7684; application&#x3001;registry&#x3001;service&#x3001;protocol &#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x52A0;&#x8F7D;&#x5230;&#x5BF9;&#x5E94;&#x7684; config &#x5B9E;&#x4F53;&#x4E2D;&#xFF0C;&#x4FBF;&#x4E8E;&#x540E;&#x7EED;&#x7684;&#x4F7F;&#x7528;&#x3002;</p>
<h3 id="onapplicationevent">onApplicationEvent</h3>
<p>spring &#x5BB9;&#x5668;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x8FD9;&#x6837;&#x7684;&#x4E8B;&#x4EF6;&#x901A;&#x77E5;&#xFF0C;&#x8FD9;&#x91CC;&#x9762;&#x505A;&#x4E86;&#x4E24;&#x4E2A;&#x4E8B;&#x60C5;&#x3002; &#x5224;&#x65AD;&#x670D;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x53D1;&#x5E03;&#x8FC7;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x53D1;&#x5E03;&#xFF0C;&#x5219;&#x8C03;&#x7528; export &#x8FDB;&#x884C;&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x7684;&#x6D41;&#x7A0B;(&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x5165;&#x53E3;)&#x3002;</p>
<pre><code class="lang-java">public void onApplicationEvent(ContextRefreshedEvent event) { 
  if (!isExported() &amp;&amp; !isUnexported()) {
    if (logger.isInfoEnabled()){
      logger.info(&quot;The service ready on spring started. 
                  service: &quot; + getInterface());
    }                 
    export(); 
   }
  }
</code></pre>
<h1 id="&#x670D;&#x52A1;&#x66B4;&#x9732;">&#x670D;&#x52A1;&#x66B4;&#x9732;</h1>
<h2 id="export">export()</h2>
<p>serviceBean &#x4E2D;&#xFF0C;&#x91CD;&#x5199;&#x4E86; export &#x65B9;&#x6CD5;&#xFF0C;&#x5B9E;&#x73B0;&#x4E86; &#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x7684;&#x53D1;&#x5E03;&#x3002;&#x5E76;&#x4E14;&#x8C03;&#x7528;&#x4E86; super.export() &#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x4F1A;&#x8C03;&#x7528;&#x7236;&#x7C7B;&#x7684; export &#x65B9;&#x6CD5;&#x3002;&#x8C03;&#x7528;ServiceConfig.export()&#x3002;</p>
<pre><code class="lang-java">
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">export</span><span class="hljs-params">()</span> </span>{ 
  checkAndUpdateSubConfigs(); <span class="hljs-comment">//&#x68C0;&#x67E5;&#x5E76;&#x4E14;&#x66F4;&#x65B0;&#x914D;&#x7F6E;&#x4FE1;&#x606F;</span>
  <span class="hljs-keyword">if</span> (!shouldExport()) {
    <span class="hljs-comment">//&#x5F53;&#x524D;&#x7684;&#x670D;&#x52A1;&#x662F;&#x5426;&#x9700;&#x8981;&#x53D1;&#x5E03;, &#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x5B9E;&#x73B0;:@Service(export = false) </span>
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-keyword">if</span> (shouldDelay()) {
    <span class="hljs-comment">//&#x68C0;&#x67E5;&#x662F;&#x5426;&#x9700;&#x8981;&#x5EF6;&#x65F6;&#x53D1;&#x5E03;,@Service(delay=)&#x5B9E;&#x73B0;&#xFF0C;&#x901A;&#x8FC7;&#x5B9A;&#x65F6;&#x5668;&#x6765;&#x5B9E;&#x73B0;</span>
    delayExportExecutor.schedule(<span class="hljs-keyword">this</span>::doExport, getDelay(), 
                                 TimeUnit.MILLISECONDS);
  } <span class="hljs-keyword">else</span> {
    doExport(); <span class="hljs-comment">//&#x5982;&#x679C;&#x6CA1;&#x6709;&#x914D;&#x7F6E; delay&#xFF0C;&#x5219;&#x76F4;&#x63A5;&#x8C03;&#x7528; export &#x8FDB;&#x884C;&#x53D1;&#x5E03;</span>
  } 
}
<span class="hljs-comment">//&#x8FD9;&#x91CC;&#x4ECD;&#x7136;&#x8FD8;&#x662F;&#x5728;&#x5B9E;&#x73B0;&#x53D1;&#x5E03;&#x524D;&#x7684;&#x5404;&#x79CD;&#x5224;&#x65AD;</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doExport</span><span class="hljs-params">()</span> </span>{ 
  <span class="hljs-comment">//&#x524D;&#x9762;&#x5404;&#x79CD;&#x5224;&#x65AD;</span>
  doExportUrls();    
}
</code></pre>
<h2 id="doexporturls">doExportUrls()</h2>
<p>&#x6700;&#x7EC8;&#x8C03;&#x7528;doExportUrls()&#xFF0C;&#x52A0;&#x8F7D;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5730;&#x5740;&#xFF0C;&#x904D;&#x5386;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x7684;&#x534F;&#x8BAE;protocols&#xFF0C;&#x9488;&#x5BF9;&#x6BCF;&#x79CD;&#x534F;&#x8BAE;&#x53D1;&#x5E03;&#x4E00;&#x4E2A;&#x5BF9;&#x5E94;&#x534F;&#x8BAE;&#x7684;&#x670D;&#x52A1;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doExportUrls</span><span class="hljs-params">()</span> </span>{ 
  <span class="hljs-comment">//&#x52A0;&#x8F7D;&#x6240;&#x6709;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x7EC4;&#x88C5;&#x6210;&#x4E00;&#x4E2A;URL  //(registry://ip:port/org.apache.dubbo.registry.RegistryService</span>
  List&lt;URL&gt; registryURLs = loadRegistries(<span class="hljs-keyword">true</span>);
  <span class="hljs-keyword">for</span> (ProtocolConfig protocolConfig : protocols) {
    doExportUrlsFor1Protocol(protocolConfig, registryURLs);
  }
}
</code></pre>
<h2 id="doexporturlsfor1protocol">doExportUrlsFor1Protocol()</h2>
<ol>
<li>&#x628A;&#x914D;&#x7F6E;&#x7684;<dubbo:method>&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x4FDD;&#x5B58;&#x5230; map &#x96C6;&#x5408;&#x4E2D;</dubbo:method></li>
<li>&#x83B7;&#x5F97;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x9700;&#x8981;&#x66B4;&#x9732;&#x7684; ip &#x548C;&#x7AEF;&#x53E3;</li>
<li>&#x628A;&#x89E3;&#x6790;&#x5230;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x7EC4;&#x88C5;&#x6210;&#x4E00;&#x4E2A; URL&#xFF0C;&#x5927;&#x6982;&#x5E94;&#x8BE5;&#x662F;: dubbo://192.168.13.1:20881/ISayHelloService</li>
</ol>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doExportUrlsFor1Protocol</span><span class="hljs-params">(ProtocolConfig     
                      protocolConfig, List&lt;URL&gt; registryURLs)</span> </span>{
  <span class="hljs-comment">//&#x83B7;&#x5F97;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x8981;&#x53D1;&#x5E03;&#x7684;&#x76EE;&#x6807; ip &#x548C; port</span>
  <span class="hljs-comment">//&#x7EC4;&#x88C5; URL&#xFF0C;url&#x5730;&#x5740;&#x5305;&#x542B;&#x4E86;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x63A5;&#x53E3;&#x540D;&#xFF0C;&#x65B9;&#x6CD5;&#x5217;&#x8868;&#xFF0C;&#x5E8F;&#x5217;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x8FC7;&#x671F;&#x65F6;&#x95F4;</span>
  URL url = <span class="hljs-keyword">new</span> URL(name, host, port,    
                    getContextPath(protocolConfig).map(p -&gt; p +  
                           <span class="hljs-string">&quot;/&quot;</span> + path).orElse(path), map);                                                                                                                                                                                                          
  String scope = url.getParameter(SCOPE_KEY); 
  <span class="hljs-keyword">if</span> (!SCOPE_NONE.equalsIgnoreCase(scope)) {
    <span class="hljs-comment">//injvm &#x53D1;&#x5E03;&#x5230;&#x672C;&#x5730;</span>
    <span class="hljs-keyword">if</span> (!SCOPE_REMOTE.equalsIgnoreCase(scope)) {    
      exportLocal(url);
    }
    <span class="hljs-comment">//&#x53D1;&#x5E03;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;</span>
    <span class="hljs-keyword">if</span> (!SCOPE_LOCAL.equalsIgnoreCase(scope)) {
      <span class="hljs-keyword">for</span> (URL registryURL : registryURLs) {
        <span class="hljs-comment">//Invoker &#x662F;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x7C7B;&#xFF0C;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x4F53;&#xFF0C;&#x53EF;&#x5411;&#x5B83;&#x53D1;&#x8D77;invoke &#x8C03;</span>
        <span class="hljs-comment">//&#x7528;</span>
        Invoker&lt;?&gt; invoker = proxyFactory.getInvoker(ref, (Class) interfaceClass,                                                 
                                                     registryURL.addParameterAndEncoded (EXPORT_KEY, url.toFullString()));
        <span class="hljs-comment">//&#x5BF9; invoker &#x505A;&#x4E86;&#x59D4;&#x6258;&#xFF0C;&#x628A; invoker &#x4EA4;&#x7ED9;</span>
        <span class="hljs-comment">//DelegateProviderMetaDataInvoker &#x6765;&#x5904;&#x7406;</span>
        DelegateProviderMetaDataInvoker wrapperInvoker = <span class="hljs-keyword">new</span> 
          DelegateProviderMetaDataInvoker(invoker, <span class="hljs-keyword">this</span>);
        <span class="hljs-comment">//&#x8C03;&#x7528; protocol.export(invoker)&#x6765;&#x53D1;&#x5E03;&#x8FD9;&#x4E2A;&#x4EE3;&#x7406;</span>
        Exporter&lt;?&gt; exporter = protocol.export(wrapperInvoker);  
        <span class="hljs-comment">//&#x6DFB;&#x52A0;&#x5230; exporters &#x96C6;&#x5408;</span>
        exporters.add(exporter);
      }
    }
  }
</code></pre>
<h2 id="protocolexport">protocol.export</h2>
<p>&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x81EA;&#x9002;&#x5E94;&#x6269;&#x5C55;&#x70B9;&#xFF0C;&#x4E00;&#x4E2A;&#x5728;&#x65B9;&#x6CD5;&#x5C42;&#x9762;&#x4E0A;&#x7684;&#x81EA;&#x9002;&#x5E94;&#x6269;&#x5C55;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x5B83;&#x5B9E;&#x73B0;&#x4E86;&#x5BF9;&#x4E8E; export &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x9002;&#x914D;&#x3002;Protocol &#x662F;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7C7B;&#xFF0C;&#x4F1A;&#x6839;&#x636E; url &#x4E2D;&#x914D;&#x7F6E;&#x7684; protocol name &#x6765;&#x5B9E;&#x73B0;&#x5BF9;&#x5E94;&#x534F;&#x8BAE;&#x7684;&#x9002;&#x914D;&#x3002;&#x5F53;&#x524D;&#x7684;&#x573A;&#x666F;&#x4E2D;&#xFF0C;protocol &#x4F1A;&#x662F;&#x8C03;&#x7528;&#x8C01;&#x5462;?&#x76EE;&#x524D;&#x53D1;&#x5E03;&#x7684; invoker(URL)&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A; registry://&#x534F;&#x8BAE;&#xFF0C;&#x6240;&#x4EE5; Protocol$Adaptive&#xFF0C;&#x4F1A;&#x901A;&#x8FC7; getExtension(extName)&#x5F97;&#x5230;&#x4E00;&#x4E2A; RegistryProtocol</p>
<h2 id="registryprotocolexport">RegistryProtocol.export</h2>
<p>RegistryProtocol &#x662F;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x7684;&#x3002;&#x5B9E;&#x73B0;&#x5BF9;&#x5E94;&#x534F;&#x8BAE;&#x7684;&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x3002;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x3002;&#x5B9E;&#x73B0;&#x8BA2;&#x9605;&#x670D;&#x52A1;&#x91CD;&#x5199;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-function">Exporter&lt;T&gt; <span class="hljs-title">export</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Invoker&lt;T&gt; originInvoker)</span> 
                                         <span class="hljs-keyword">throws</span> RpcException </span>{ 
  <span class="hljs-comment">//&#x8FD9;&#x91CC;&#x83B7;&#x5F97;&#x7684;&#x662F; zookeeper &#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684; url: zookeeper://ip:port</span>
  URL registryUrl = getRegistryUrl(originInvoker); 
  <span class="hljs-comment">//&#x8FD9;&#x91CC;&#x662F;&#x83B7;&#x5F97;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x7684; url, dubbo://ip:port...</span>
  URL providerUrl = getProviderUrl(originInvoker);
  <span class="hljs-comment">//&#x8FD9;&#x91CC;&#x5C31;&#x4EA4;&#x7ED9;&#x4E86;&#x5177;&#x4F53;&#x7684;&#x534F;&#x8BAE;&#x53BB;&#x66B4;&#x9732;&#x670D;&#x52A1;(&#x5F88;&#x91CD;&#x8981;)</span>
  <span class="hljs-keyword">final</span> ExporterChangeableWrapper&lt;T&gt; exporter = 
                     doLocalExport(originInvoker, providerUrl); 

  <span class="hljs-comment">//===========&#x4E0B;&#x9762;&#x662F;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x7684;&#x4EE3;&#x7801;=============</span>
  <span class="hljs-comment">// &#x6839;&#x636E; invoker &#x4E2D;&#x7684;url&#x83B7;&#x53D6;Registry&#x5B9E;&#x4F8B;: zookeeperRegistry</span>
  <span class="hljs-keyword">final</span> Registry registry = getRegistry(originInvoker);
  <span class="hljs-comment">//&#x83B7;&#x53D6;&#x8981;&#x6CE8;&#x518C;&#x5230;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684; URL: dubbo://ip:port</span>
  <span class="hljs-keyword">final</span> URL registeredProviderUrl = 
           getRegisteredProviderUrl(providerUrl, registryUrl); 
  ProviderInvokerWrapper&lt;T&gt; providerInvokerWrapper = 
    ProviderConsumerRegTable.registerProvider(
            originInvoker,registryUrl, registeredProviderUrl);
  <span class="hljs-keyword">boolean</span> register = registeredProviderUrl.getParameter(<span class="hljs-string">&quot;register&quot;</span>, <span class="hljs-keyword">true</span>); 
  <span class="hljs-keyword">if</span> (register) {
    <span class="hljs-comment">//&#x662F;&#x5426;&#x914D;&#x7F6E;&#x4E86;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x5982;&#x679C;&#x662F;&#xFF0C; &#x5219;&#x9700;&#x8981;&#x6CE8;&#x518C;</span>
    <span class="hljs-comment">//&#x6CE8;&#x518C;&#x5230;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684; URL</span>
    register(registryUrl, registeredProviderUrl); 
    providerInvokerWrapper.setReg(<span class="hljs-keyword">true</span>);
  }
  <span class="hljs-comment">//&#x8BBE;&#x7F6E;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x8BA2;&#x9605;                                              </span>
  registry.subscribe(overrideSubscribeUrl, 
                     overrideSubscribeListener);
  exporter.setRegisterUrl(registeredProviderUrl); 
  exporter.setSubscribeUrl(overrideSubscribeUrl); 
  <span class="hljs-comment">//&#x4FDD;&#x8BC1;&#x6BCF;&#x6B21; export &#x90FD;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684; exporter &#x5B9E;&#x4F8B; </span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> DestroyableExporter&lt;&gt;(exporter);
}
</code></pre>
<h2 id="dolocalexport">doLocalExport</h2>
<p>&#x5148;&#x901A;&#x8FC7; doLocalExport &#x6765;&#x66B4;&#x9732;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x5E94;&#x8BE5;&#x662F;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x901A;&#x4FE1;&#x670D;&#x52A1;,&#x4E3B;&#x8981;&#x7684;&#x6B65;&#x9AA4;&#x662F;&#x5C06;&#x672C;&#x5730; ip &#x548C;&#x7AEF;&#x53E3;&#x6253;&#x5F00;&#xFF0C;&#x8FDB;&#x884C;&#x76D1;&#x542C;.</p>
<pre><code class="lang-java"><span class="hljs-keyword">private</span> &lt;T&gt; <span class="hljs-function">ExporterChangeableWrapper&lt;T&gt; <span class="hljs-title">doLocalExport</span><span class="hljs-params">(<span class="hljs-keyword">final</span>                                                                         
                   Invoker&lt;T&gt; originInvoker, URL providerUrl)</span> </span>{
  <span class="hljs-comment">//originInvoker &#x4E2D;&#x83B7;&#x5F97;&#x53D1;&#x5E03;&#x534F;&#x8BAE;&#x7684; url:dubbo://ip:port/...</span>
  String key = getCacheKey(originInvoker);
  <span class="hljs-keyword">return</span> (ExporterChangeableWrapper&lt;T&gt;) 
    <span class="hljs-comment">//bounds: &#x4E00;&#x4E2A; prviderUrl &#x670D;&#x52A1; export &#x4E4B;&#x540E;&#xFF0C;&#x7F13;&#x5B58;&#x5230; bounds &#x4E2D;&#xFF0C;</span>
    <span class="hljs-comment">//&#x6240;&#x4EE5;&#x4E00;&#x4E2A; providerUrl &#x53EA;&#x4F1A;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A; exporter</span>
    bounds.computeIfAbsent(key, s -&gt; {
      <span class="hljs-comment">//&#x5BF9;&#x539F;&#x6709;&#x7684; invoker,&#x59D4;&#x6258;&#x7ED9;&#x4E86; InvokerDelegate</span>
      Invoker&lt;?&gt; invokerDelegate = <span class="hljs-keyword">new</span> InvokerDelegate&lt;&gt;
        (originInvoker, providerUrl);
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ExporterChangeableWrapper&lt;&gt;((Exporter&lt;T&gt;)                                          
             protocol.export(invokerDelegate), originInvoker);
      });
}
</code></pre>
<h2 id="dubboprotocolexport">DubboProtocol.export</h2>
<p>&#x57FA;&#x4E8E;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x7684;&#x9002;&#x914D;&#xFF0C;&#x8FC7;&#x6E21;&#x5230;&#x4E86; DubboProtocol &#x8FD9;&#x4E2A;&#x534F;&#x8BAE;&#x7C7B;&#x3002;</p>
<p> &#x540C;&#x65F6;Wrapper &#x5BF9; Protocol &#x8FDB;&#x884C;&#x88C5;&#x9970;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x5206;&#x522B;&#x4E3A;:</p>
<ol>
<li>QosProtocolWrapper&#x3002;&#x5982;&#x679C;&#x5F53;&#x524D;&#x914D;&#x7F6E;&#x4E86;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x5219;&#x4F1A;&#x542F;&#x52A8;&#x4E00;&#x4E2A; Qos server.qos &#x662F; dubbo &#x7684;&#x5728;&#x7EBF;&#x8FD0;&#x7EF4;&#x547D;&#x4EE4;</li>
<li>ProtocolListenerWrapper</li>
<li>ProtocolFilterWrapper&#x3002;&#x4F7F;&#x7528;&#x8D23;&#x4EFB;&#x94FE;&#x6A21;&#x5F0F;&#xFF0C;&#x5BF9; invoker &#x8FDB;&#x884C; filter &#x7684;&#x5305;&#x88C5;&#xFF0C;&#x5B9E;&#x73B0;&#x8BF7;&#x6C42;&#x7684;&#x8FC7;&#x6EE4;&#x3002;</li>
</ol>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-function">Exporter&lt;T&gt; <span class="hljs-title">export</span><span class="hljs-params">(Invoker&lt;T&gt; invoker)</span> </span>{ 
  URL url = invoker.getUrl();
  <span class="hljs-comment">//&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x6807;&#x8BC6;&#xFF0C;&#x7531;&#x670D;&#x52A1;&#x7EC4;&#x540D;&#xFF0C;&#x670D;&#x52A1;&#x540D;&#xFF0C;&#x670D;&#x52A1;&#x7248;&#x672C;&#x53F7;&#x4EE5;&#x53CA;&#x7AEF;&#x53E3;&#x7EC4;&#x6210;&#x3002;&#x6BD4;&#x5982; </span>
  <span class="hljs-comment">//${group}/ISayHelloService:${version}:20880 </span>
  String key = serviceKey(url);
  <span class="hljs-comment">//&#x521B;&#x5EFA; DubboExporter</span>
  DubboExporter&lt;T&gt; exporter = <span class="hljs-keyword">new</span> DubboExporter&lt;T&gt;(invoker, 
                                             key, exporterMap);
  <span class="hljs-comment">// &#x5C06; &lt;key, exporter&gt; &#x952E;&#x503C;&#x5BF9;&#x653E;&#x5165;&#x7F13;&#x5B58;&#x4E2D; </span>
  exporterMap.put(key, exporter);
  <span class="hljs-comment">//&#x542F;&#x52A8;&#x670D;&#x52A1; </span>
  openServer(url);
  <span class="hljs-comment">//&#x4F18;&#x5316;&#x5E8F;&#x5217;&#x5316; </span>
  optimizeSerialization(url);
  <span class="hljs-keyword">return</span> exporter; 
}
</code></pre>
<h2 id="openserver">openServer()</h2>
<p>&#x53BB;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x4E14;&#x653E;&#x5165;&#x5230;&#x7F13;&#x5B58;&#x4E2D; &#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x7AEF;&#x53E3;&#x4E0A;&#x4EC5;&#x5141;&#x8BB8;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x4F8B;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">openServer</span><span class="hljs-params">(URL url)</span> </span>{
  <span class="hljs-comment">// &#x83B7;&#x53D6; host:port&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x4F8B;&#x7684;key&#xFF0C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x5F53;&#x524D;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x4F8B; </span>
  String key = url.getAddress();
  <span class="hljs-comment">//client &#x4E5F;&#x53EF;&#x4EE5;&#x66B4;&#x9732;&#x4E00;&#x4E2A;&#x53EA;&#x6709; server &#x53EF;&#x4EE5;&#x8C03;&#x7528;&#x7684;&#x670D;&#x52A1;</span>
  <span class="hljs-keyword">boolean</span> isServer = url.getParameter(Constants.IS_SERVER_KEY, 
                                      <span class="hljs-keyword">true</span>); 
  <span class="hljs-keyword">if</span> (isServer) {
    <span class="hljs-comment">//&#x662F;&#x5426;&#x5728; serverMap &#x4E2D;&#x7F13;&#x5B58;&#x4E86;</span>
    ExchangeServer server = serverMap.get(key);
    <span class="hljs-keyword">if</span> (server == <span class="hljs-keyword">null</span>) { <span class="hljs-keyword">synchronized</span> (<span class="hljs-keyword">this</span>) {
      server = serverMap.get(key); <span class="hljs-keyword">if</span> (server == <span class="hljs-keyword">null</span>) {
        <span class="hljs-comment">// &#x521B;&#x5EFA;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x4F8B;</span>
        serverMap.put(key, createServer(url)); 
      }
    }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">//&#x670D;&#x52A1;&#x5668;&#x5DF2;&#x521B;&#x5EFA;&#xFF0C;&#x5219;&#x6839;&#x636E; url &#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x91CD;&#x7F6E;&#x670D;&#x52A1;&#x5668;              </span>
      server.reset(url);           
    }
 } 
}
</code></pre>
<h2 id="createserver">createServer()</h2>
<p>&#x521B;&#x5EFA;&#x670D;&#x52A1;,&#x5F00;&#x542F;&#x5FC3;&#x8DF3;&#x68C0;&#x6D4B;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528; netty&#x3002;&#x7EC4;&#x88C5; url.</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> ExchangeServer <span class="hljs-title">createServer</span><span class="hljs-params">(URL url)</span> </span>{ 
  <span class="hljs-comment">//&#x7EC4;&#x88C5; url&#xFF0C;&#x5728; url &#x4E2D;&#x6DFB;&#x52A0;&#x5FC3;&#x8DF3;&#x65F6;&#x95F4;&#x3001;&#x7F16;&#x89E3;&#x7801;&#x53C2;&#x6570;</span>
  url = URLBuilder.from(url)
    <span class="hljs-comment">// &#x5F53;&#x670D;&#x52A1;&#x5173;&#x95ED;&#x4EE5;&#x540E;&#xFF0C;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x53EA;&#x8BFB;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x5F00;&#x542F;&#x72B6;&#x6001;            </span>
    .addParameterIfAbsent(Constants.CHANNEL_READONLYEVENT_SENT_KEY,Boolean.TRUE.toString()) 
    <span class="hljs-comment">// &#x542F;&#x52A8;&#x5FC3;&#x8DF3;&#x914D;&#x7F6E;</span>
    .addParameterIfAbsent(Constants.HEARTBEAT_KEY,String.valueOf(Constants.DEFAULT_HEARTBEAT)) .addParameter(Constants.CODEC_KEY, 
                                                                                                            DubboCodec.NAME)
    .build();
  String str = url.getParameter(Constants.SERVER_KEY, Constants.DEFAULT_REMOTING_SERVER); 
  <span class="hljs-comment">//&#x901A;&#x8FC7; SPI &#x68C0;&#x6D4B;&#x662F;&#x5426;&#x5B58;&#x5728; server &#x53C2;&#x6570;&#x6240;&#x4EE3;&#x8868;&#x7684; Transporter &#x62D3;&#x5C55;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x629B;&#x51FA;&#x5F02;&#x5E38;</span>
  <span class="hljs-keyword">if</span> (str != <span class="hljs-keyword">null</span> &amp;&amp; str.length() &gt; <span class="hljs-number">0</span> &amp;&amp; !ExtensionLoader.getExtensionLoader(Transporter.class).<span class="hljs-function">hasExten <span class="hljs-title">sion</span><span class="hljs-params">(str)</span>) </span>{
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RpcException(<span class="hljs-string">&quot;Unsupported server type: &quot;</span> + str + <span class="hljs-string">&quot;, url: &quot;</span> + url); }
<span class="hljs-comment">//&#x521B;&#x5EFA; ExchangeServer. </span>
  ExchangeServer server;
  <span class="hljs-keyword">try</span> {
    server = Exchangers.bind(url, requestHandler); 
  } <span class="hljs-keyword">catch</span> (RemotingException e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> RpcException(<span class="hljs-string">&quot;Fail to start server(url: &quot;</span> + url + <span class="hljs-string">&quot;) &quot;</span> + e.getMessage(), e);
  }

  <span class="hljs-comment">//Exchangers.bind</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExchangeServer <span class="hljs-title">bind</span><span class="hljs-params">(URL url, ExchangeHandler handler)</span> <span class="hljs-keyword">throws</span> RemotingException </span>{ 
    <span class="hljs-keyword">if</span> (url == <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;url == null&quot;</span>); 
    }
    <span class="hljs-keyword">if</span> (handler == <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;handler == null&quot;</span>);
    }
    <span class="hljs-comment">//&#x83B7;&#x53D6; Exchanger&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; HeaderExchanger&#x3002;</span>
    <span class="hljs-comment">//&#x8C03;&#x7528; HeaderExchanger &#x7684; bind &#x65B9;&#x6CD5;&#x521B;&#x5EFA; ExchangeServer &#x5B9E;&#x4F8B;</span>
    url = url.addParameterIfAbsent(Constants.CODEC_KEY, <span class="hljs-string">&quot;exchange&quot;</span>);  
    <span class="hljs-keyword">return</span> getExchanger(url).bind(url, handler); }
</code></pre>
<h2 id="headerexchangerbind">headerExchanger.bind</h2>
<p>&#x8FD9;&#x91CC;&#x9762;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x903B;&#x8F91;</p>
<p>new DecodeHandler(new HeaderExchangeHandler(handler))</p>
<p>Transporters.bind</p>
<p>new HeaderExchangeServer</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> ExchangeServer <span class="hljs-title">bind</span><span class="hljs-params">(URL url, ExchangeHandler handler)</span> <span class="hljs-keyword">throws</span> RemotingException </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> HeaderExchangeServer(Transporters.bind(url, <span class="hljs-keyword">new</span> DecodeHandler(<span class="hljs-keyword">new</span> HeaderExchangeHandler(han
                                                                                                     dler)))); 
}

<span class="hljs-comment">//Transporters.bind</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Server <span class="hljs-title">bind</span><span class="hljs-params">(URL url, ChannelHandler... handlers)</span> <span class="hljs-keyword">throws</span> RemotingException </span>{ 
  <span class="hljs-keyword">if</span> (url == <span class="hljs-keyword">null</span>) 
  {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;url == null&quot;</span>); 
  }
<span class="hljs-keyword">if</span> (handlers == <span class="hljs-keyword">null</span> || handlers.length == <span class="hljs-number">0</span>) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">&quot;handlers == null&quot;</span>);
}
  ChannelHandler handler;
  <span class="hljs-keyword">if</span> (handlers.length == <span class="hljs-number">1</span>) {
    handler = handlers[<span class="hljs-number">0</span>];
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// &#x5982;&#x679C; handlers &#x5143;&#x7D20;&#x6570;&#x91CF;&#x5927;&#x4E8E;1&#xFF0C;&#x5219;&#x521B;&#x5EFA; ChannelHandler &#x5206;&#x53D1;&#x5668; </span>
    handler = <span class="hljs-keyword">new</span> ChannelHandlerDispatcher(handlers);
  }
  <span class="hljs-comment">// &#x83B7;&#x53D6;&#x81EA;&#x9002;&#x5E94; Transporter &#x5B9E;&#x4F8B;&#xFF0C;&#x5E76;&#x8C03;&#x7528;&#x5B9E;&#x4F8B;&#x65B9;&#x6CD5; </span>
  <span class="hljs-keyword">return</span> getTransporter().bind(url, handler);
}
</code></pre>
<h2 id="gettransporter">getTransporter</h2>
<p>getTransporter &#x662F;&#x4E00;&#x4E2A;&#x81EA;&#x9002;&#x5E94;&#x6269;&#x5C55;&#x70B9;&#xFF0C;&#x5B83;&#x9488;&#x5BF9; bind &#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x4E86;&#x81EA;&#x9002;&#x5E94;&#x6CE8;&#x89E3;&#xFF0C;&#x610F;&#x5473;&#x7740;bind &#x65B9;&#x6CD5;&#x7684;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF0C;&#x4F1A;&#x57FA;&#x4E8E; Transporter$Adaptive &#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x9002;&#x914D;&#xFF0C;&#x8FD9;&#x91CC;&#x9762;&#x9ED8;&#x8BA4;&#x7684;&#x901A;&#x4FE1;&#x534F;&#x8BAE;&#x662F; netty&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x4F1A;&#x91C7;&#x7528; netty4 &#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;</p>
<pre><code class="lang-java">org.apache.dubbo.remoting.transport.netty4.<span class="hljs-function">NettyTransporter

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Transporter <span class="hljs-title">getTransporter</span><span class="hljs-params">()</span> </span>{ 
  <span class="hljs-keyword">return</span> ExtensionLoader.getExtensionLoader(Transporter.class).getAdaptiveExtension();
}

<span class="hljs-comment">//NettyTransporter.bind</span>
<span class="hljs-comment">//&#x521B;&#x5EFA;&#x4E00;&#x4E2A; nettyserver</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> Server <span class="hljs-title">bind</span><span class="hljs-params">(URL url, ChannelHandler listener)</span> <span class="hljs-keyword">throws</span> RemotingException </span>{ 
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> NettyServer(url, listener);
}
</code></pre>
<h2 id="nettyserver">NettyServer</h2>
<p>&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A; nettyserver&#xFF0C;&#x5E76;&#x4E14;&#x4ECE; url &#x4E2D;&#x83B7;&#x5F97;&#x76F8;&#x5E94;&#x7684; ip/ port&#x3002;&#x7136;&#x540E;&#x8C03;&#x7528; doOpen()&#x3002;doOpen()&#x662F;&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x7684;&#x6700;&#x7EC8;&#x903B;&#x8F91;&#x3002;</p>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doOpen</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Throwable </span>{
  bootstrap = <span class="hljs-keyword">new</span> ServerBootstrap();
  bossGroup = <span class="hljs-keyword">new</span> NioEventLoopGroup(<span class="hljs-number">1</span>, <span class="hljs-keyword">new</span> DefaultThreadFactory(<span class="hljs-string">&quot;NettyServerBoss&quot;</span>, <span class="hljs-keyword">true</span>));
  workerGroup = <span class="hljs-keyword">new</span> NioEventLoopGroup(getUrl().getPositiveParameter(Constants.IO_THREADS_KEY, Constants. DEFAULT_IO_THREADS),
                                      <span class="hljs-keyword">new</span> DefaultThreadFactory(<span class="hljs-string">&quot;NettyServerWorker&quot;</span>, <span class="hljs-keyword">true</span>));
  <span class="hljs-keyword">final</span> NettyServerHandler nettyServerHandler = <span class="hljs-keyword">new</span> NettyServerHandler(getUrl(), <span class="hljs-keyword">this</span>);
  channels = nettyServerHandler.getChannels();
  bootstrap.group(bossGroup, workerGroup) .channel(NioServerSocketChannel.class) .childOption(ChannelOption.TCP_NODELAY, 
                                                                                              Boolean.TRUE) 
    .childOption(ChannelOption.SO_REUSEADDR, Boolean.TRUE) .childOption(ChannelOption.ALLOCATOR, PooledByteBufAllocator.DEFAULT) 
    .childHandler(<span class="hljs-keyword">new</span> ChannelInitializer&lt;NioSocketChannel&gt;() {
      <span class="hljs-meta">@Override</span>
      <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">initChannel</span><span class="hljs-params">(NioSocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">FIXME:</span> should we use getTimeout()?</span>
        <span class="hljs-keyword">int</span> idleTimeout = UrlUtils.getIdleTimeout(getUrl());
        NettyCodecAdapter adapter = <span class="hljs-keyword">new</span> NettyCodecAdapter(getCodec(), getUrl(), NettyServer.<span class="hljs-keyword">this</span>);
        ch.pipeline()<span class="hljs-comment">//.addLast(&quot;logging&quot;,new LoggingHandler(LogLevel.INFO))//for debug .addLast(&quot;decoder&quot;, adapter.getDecoder())</span>
          .addLast(<span class="hljs-string">&quot;encoder&quot;</span>, adapter.getEncoder())
          .addLast(<span class="hljs-string">&quot;server-idle-handler&quot;</span>, <span class="hljs-keyword">new</span> IdleStateHandler(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, idleTimeout, MILLISECONDS))
          .addLast(<span class="hljs-string">&quot;handler&quot;</span>, nettyServerHandler);
      } 
    });
  <span class="hljs-comment">//bind</span>
  ChannelFuture channelFuture = bootstrap.bind(getBindAddress()); 
  channelFuture.syncUninterruptibly();
  channel = channelFuture.channel();
}
</code></pre>
<p>&#x8FD9;&#x91CC;&#x7528;&#x5230;&#x4E86;&#x4E00;&#x4E2A;handler&#x6765;&#x5904;&#x7406;&#x5BA2;&#x6237;&#x7AEF;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x3002;nettyServerHandler&#xFF0C;&#x8FD9;&#x4E2A; handler &#x662F;&#x4E00;&#x4E2A;&#x94FE;&#x8DEF;&#xFF0C;&#x5B83;&#x7684;&#x6B63;&#x786E;&#x7EC4;&#x6210;&#x5E94;&#x8BE5;&#x662F;</p>
<p>MultiMessageHandler(heartbeatHandler(AllChannelHandler(DecodeHandler(HeaderExchangeHeadler(dubboProtocol</p>
<p>&#x540E;&#x7EED;&#x63A5;&#x6536;&#x5230;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x4F1A;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x7684;&#x5904;&#x7406;&#x3002;</p>
<h2 id="&#x603B;&#x7ED3;">&#x603B;&#x7ED3;</h2>
<p>&#x4E00;&#x4E2A;service&#x6807;&#x7B7E;&#x7684;serviceBean&#x751F;&#x6210;&#x4E86;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x597D;&#x7684;Invoker&#xFF0C;&#x8FD9;&#x4E2A;invoker&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x53EB;exporter&#x7684;&#x5BF9;&#x8C61;&#x4E0B;&#xFF0C;&#x7136;&#x540E;&#x8FD9;&#x4E2A;exporter&#x653E;&#x5728;&#x4E86;serviceBean&#x7684;&#x4E00;&#x4E2A;exporterMap&#x4E2D;&#xFF0C;&#x51C6;&#x5907;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x7684;nettyServer&#x653E;&#x5728;&#x4E86;serviceBean&#x7684;&#x53D8;&#x91CF;protocol&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;serverMap&#x91CC;&#x9762;&#xFF0C;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;serverBean&#x7684;netty&#x670D;&#x52A1;&#xFF0C;&#x65B9;&#x6CD5;&#x4EE3;&#x7406;&#x7C7B;&#x90FD;&#x751F;&#x6210;&#x597D;&#x4E86;&#x3002;&#x6CE8;&#x610F;protocol&#x662F;&#x5355;&#x4F8B;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5982;&#x679C;&#x6709;bean&#x6253;&#x5F00;&#x8FC7;nettyServer&#xFF0C;&#x522B;&#x7684;bean&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x6253;&#x5F00;&#x3002;</p>
<h1 id="&#x670D;&#x52A1;&#x6CE8;&#x518C;">&#x670D;&#x52A1;&#x6CE8;&#x518C;</h1>
<p>&#x4ECE;protocol.export()&#x4E2D;&#x62BD;&#x79BB;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x7684;&#x4EE3;&#x7801;</p>
<pre><code class="lang-java"><span class="hljs-keyword">final</span> Registry registry = getRegistry(originInvoker);
  <span class="hljs-comment">//&#x83B7;&#x53D6;&#x8981;&#x6CE8;&#x518C;&#x5230;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684; URL: dubbo://ip:port</span>
  <span class="hljs-keyword">final</span> URL registeredProviderUrl = 
           getRegisteredProviderUrl(providerUrl, registryUrl); 
  ProviderInvokerWrapper&lt;T&gt; providerInvokerWrapper = 
    ProviderConsumerRegTable.registerProvider(
            originInvoker,registryUrl, registeredProviderUrl);
  <span class="hljs-keyword">boolean</span> register = registeredProviderUrl.getParameter(<span class="hljs-string">&quot;register&quot;</span>, <span class="hljs-keyword">true</span>); 
  <span class="hljs-keyword">if</span> (register) {
    <span class="hljs-comment">//&#x662F;&#x5426;&#x914D;&#x7F6E;&#x4E86;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x5982;&#x679C;&#x662F;&#xFF0C; &#x5219;&#x9700;&#x8981;&#x6CE8;&#x518C;</span>
    <span class="hljs-comment">//&#x6CE8;&#x518C;&#x5230;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684; URL</span>
    register(registryUrl, registeredProviderUrl); 
    providerInvokerWrapper.setReg(<span class="hljs-keyword">true</span>);
  }
</code></pre>
<pre><code class="lang-java">&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x6D41;&#x7A0B;
 &gt;getRegistry //&#x83B7;&#x5F97;&#x6307;&#x5B9A;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5B9E;&#x73B0; 
   &gt;ZookeeperRegistryFactory#getRegistry// 
    &gt;createRegistry// &#x521B;&#x5EFA;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;
      &gt;ZookeeperRegistry//CuratorZookeeperTransport&#x5B9E;&#x73B0;zk&#x7684;&#x8FDE;&#x63A5;
 &gt; register// &#x670D;&#x52A1;&#x6CE8;&#x518C;
  &gt;registry.register // 
    &gt;FailbackRegistry.register//&#x5931;&#x8D25;&#x91CD;&#x8BD5;&#x6CE8;&#x518C;
     &gt;ZookeeperRegistry.doRegister //&#x8C03;&#x7528;curator&#x670D;&#x52A1;&#x5730;&#x5740;&#x6CE8;&#x518C;&#x5230;zk
</code></pre>
<h2 id="getregistry">getRegistry</h2>
<ol>
<li>&#x628A;url&#x8F6C;&#x5316;&#x4E3A;&#x5BF9;&#x5E94;&#x914D;&#x7F6E;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x5177;&#x4F53;&#x534F;&#x8BAE;</li>
<li>&#x6839;&#x636E;&#x5177;&#x4F53;&#x534F;&#x8BAE;&#xFF0C;&#x4ECE;registryFactory&#x4E2D;&#x83B7;&#x5F97;&#x6307;&#x5B9A;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5B9E;&#x73B0;</li>
</ol>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">private</span> Registry <span class="hljs-title">getRegistry</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Invoker&lt;?&gt; originInvoker)</span> </span>{ 
  <span class="hljs-comment">//&#x628A;url&#x8F6C;&#x5316;&#x4E3A;&#x914D;&#x7F6E;&#x7684;&#x5177;&#x4F53;&#x534F;&#x8BAE;&#xFF0C;&#x6BD4;&#x5982;zookeeper://ip:port. &#x8FD9;&#x6837;&#x540E;&#x7EED;&#x83B7;&#x5F97;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5C31;&#x4F1A;&#x662F;&#x57FA;&#x4E8E;zk&#x7684;&#x5B9E;&#x73B0;</span>
  URL registryUrl = getRegistryUrl(originInvoker); 
  <span class="hljs-keyword">return</span> registryFactory.getRegistry(registryUrl);
}
</code></pre>
<p>&#x6839;&#x636E;RegistryFactory&#x7684;&#x5B9E;&#x73B0;&#xFF0C;getRegistry&#x662F;&#x4E00;&#x4E2A;&#x81EA;&#x9002;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6839;&#x636E;url&#x4E2D;protocol&#x4F20;&#x5165;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x9002;&#x914D;&#x3002;&#x7531;&#x4E8E;&#x5728;&#x524D;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;url&#x4E2D;&#x7684;protocol&#x5DF2;&#x7ECF;&#x6539;&#x6210;&#x4E86;zookeeper&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6839;&#x636E;zookeeper&#x83B7;&#x5F97;&#x7684;spi &#x6269;&#x5C55;&#x70B9;&#x5E94;&#x8BE5;&#x662F;ZookeeperRegistryFactory&#x3002;</p>
<h2 id="zookeeperregistryfactory">ZookeeperRegistryFactory</h2>
<p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x5E76;&#x6CA1;&#x6709; getRegistry &#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x7236;&#x7C7B; AbstractRegistryFactory&#x3002;&#x4ECE;&#x7F13;&#x5B58; REGISTRIES &#x4E2D;&#xFF0C;&#x6839;&#x636E; key &#x83B7;&#x5F97;&#x5BF9;&#x5E94;&#x7684; Registry&#x3002;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x521B;&#x5EFA; Registry&#x3002;</p>
<h2 id="createregistry">createRegistry</h2>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; zookeeperRegistry&#xFF0C;&#x628A; url &#x548C; zookeepertransporter &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#x3002;zookeeperTransporter &#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x4E5F;&#x662F;&#x57FA;&#x4E8E;&#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#x6765;&#x8D4B;&#x503C;&#x7684;&#xFF0C;&#xFF0C;&#x8FD9;&#x4E2A;&#x7684;&#x503C;&#x5E94;&#x8BE5;&#x662F;CuratorZookeeperTransporter&#xFF0C;&#x8868;&#x793A;&#x5177;&#x4F53;&#x4F7F;&#x7528;&#x4EC0;&#x4E48;&#x6846;&#x67B6;&#x6765;&#x548C; zk &#x4EA7;&#x751F;&#x8FDE;&#x63A5;&#x3002;</p>
<h2 id="register">register</h2>
<pre><code class="lang-java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">register</span><span class="hljs-params">(URL registryUrl, URL registeredProviderUrl)</span> </span>{ 
  Registry registry = registryFactory.getRegistry(registryUrl); 
  registry.register(registeredProviderUrl);
}
</code></pre>
<p> registry.register &#x5C06; dubbo://&#x7684;&#x534F;&#x8BAE;&#x5730;&#x5740;&#x6CE8;&#x518C;&#x5230; zookeeper &#x4E0A;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x4F1A;&#x8C03;&#x7528; FailbackRegistry &#x7C7B;&#x4E2D;&#x7684; register&#x3002;&#x56E0;ZookeeperRegistry &#x7C7B;&#x4E2D;&#x5E76;&#x6CA1;&#x6709; register &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x3002;&#x5176;&#x7236;&#x7C7B;FailbackRegistry &#x4E2D;&#x5B58;&#x5728; register &#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x8FD9;&#x4E2A;&#x7C7B;&#x53C8;&#x91CD;&#x5199;&#x4E86; AbstractRegistry &#x7C7B;&#x4E2D;&#x7684; register &#x65B9;&#x6CD5;&#x3002;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5B9A;&#x4F4D;&#x5230;FailbackRegistry &#x8FD9;&#x4E2A;&#x7C7B;&#x4E2D;&#x7684; register &#x65B9;&#x6CD5;&#x4E2D;&#x3002;&#x6700;&#x7EC8;&#x8C03;&#x7528;curator&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x628A;&#x670D;&#x52A1;&#x5730;&#x5740;&#x6CE8;&#x518C;&#x5230;zk</p>
<h1 id="invoker">Invoker</h1>
<pre><code class="lang-java"><span class="hljs-comment">//----- 1.&#x4EE3;&#x7406;&#x5DE5;&#x7A0B;&#xFF0C;&#x7528;&#x6765;&#x751F;&#x6210;invoker&#x3002;&#x81EA;&#x9002;&#x5E94;&#x6269;&#x5C55;&#x70B9;&#xFF0C;&#x8C03;&#x7528;JavassisProxyFactory</span>
Invoker&lt;?&gt; invoker = proxyFactory.getInvoker(ref, (Class) interfaceClass,
registryURL.addParameterAndEncoded(Constants.EXPORT_KEY, url.toFullString()));
<span class="hljs-comment">//----- 2.&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x7C7B;&#x5E93;&#xFF0C;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x4EE3;&#x7406;&#x3002;&#x6784;&#x5EFA;&#x597D;&#x4E86;&#x4EE3;&#x7406;&#x7C7B;&#x4E4B;&#x540E;&#xFF0C;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;AbstractproxyInvoker,&#x5E76;&#x4E14;&#x5B83;&#x5B9E;&#x73B0;&#x4E86;doInvoke&#x65B9;&#x6CD5;&#x3002;</span>
JavassistProxyFactory.getInvoker
</code></pre>
<p>Invoke&#x672C;&#x8D28;&#x4E0A;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#xFF0C;&#x7ECF;&#x8FC7;&#x5C42;&#x5C42;&#x5305;&#x88C5;&#x6700;&#x7EC8;&#x8FDB;&#x884C;&#x4E86;&#x53D1;&#x5E03;&#x3002;&#x5F53;&#x6D88;&#x8D39;&#x8005;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x83B7;&#x5F97;&#x8FD9;&#x4E2A;invoker&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x6700;&#x7EC8;&#x53D1;&#x5E03;&#x51FA;&#x53BB;&#x7684;invoker, &#x4E5F;&#x4E0D;&#x662F;&#x5355;&#x7EAF;&#x7684;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#xFF0C;&#x4E5F;&#x662F;&#x7ECF;&#x8FC7;&#x591A;&#x5C42;&#x5305;&#x88C5; InvokerDelegate(DelegateProviderMetaDataInvoker(AbstractProxyInvoker()))</p>
<h1 id="&#x53D1;&#x5E03;&#x6D3B;&#x52A8;&#x56FE;">&#x53D1;&#x5E03;&#x6D3B;&#x52A8;&#x56FE;</h1>
<p><img src="dubbo7.png" alt="dubbo7"></p>

<script>console.log("plugin-popup....");document.onclick = function(e){ e.target.tagName === "IMG" && window.open(e.target.src,e.target.src)}</script><style>img{cursor:pointer}</style>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="SPI.html" class="navigation navigation-prev " aria-label="Previous page: Dubbo SPI">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="服务消费源码.html" class="navigation navigation-next " aria-label="Next page: 服务消费">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"服务发布及注册","level":"1.7.3","depth":2,"next":{"title":"服务消费","level":"1.7.4","depth":2,"path":"content/Dubbo/服务消费源码.md","ref":"content/Dubbo/服务消费源码.md","articles":[]},"previous":{"title":"Dubbo SPI","level":"1.7.2","depth":2,"path":"content/Dubbo/SPI.md","ref":"content/Dubbo/SPI.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-search","-lunr","search-pro","code","splitter","expandable-chapters","page-toc-button","back-to-top-button","popup","-sharing"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"splitter":{},"search-pro":{},"popup":{},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"page-toc-button":{},"back-to-top-button":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"面试知识点汇总","gitbook":"*"},"file":{"path":"content/Dubbo/服务发布和注册源码.md","mtime":"2020-12-08T14:44:25.242Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-12-23T16:58:47.603Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

